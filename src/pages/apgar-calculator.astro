---
import Layout from '../layouts/Layout.astro';
import APGARCalculator from '../components/APGARCalculator.svelte';
---

<Layout
	title="APGAR Score Calculator | EMT Calculator Tools"
	description="APGAR Score Calculator - Rapid newborn assessment for delivery calls with clinical interpretation"
	showBackButton={true}
>
	<div class="text-center mb-8">
		<h1 class="text-3xl font-bold mb-4 theme-accent-primary">APGAR Score Calculator</h1>
		<p class="theme-text-secondary max-w-2xl mx-auto">
			Rapid newborn assessment tool for delivery calls. Score Appearance, Pulse, Grimace, Activity, and Respirations
			to evaluate newborn condition and guide immediate care decisions.
		</p>
	</div>

	<APGARCalculator client:load />

	<div class="mt-12 max-w-4xl mx-auto">
		<div class="grid md:grid-cols-2 gap-8">
			<div class="theme-bg-secondary p-6 rounded-lg border theme-border-primary">
				<h3 class="text-lg font-semibold mb-4 theme-accent-primary">APGAR Acronym</h3>
				<div class="space-y-3 text-sm">
					<div>
						<span class="theme-text-primary font-medium">A</span>ppearance
						<p class="theme-text-secondary ml-4">Skin color throughout body</p>
					</div>
					<div>
						<span class="theme-text-primary font-medium">P</span>ulse
						<p class="theme-text-secondary ml-4">Heart rate by palpation or auscultation</p>
					</div>
					<div>
						<span class="theme-text-primary font-medium">G</span>rimace
						<p class="theme-text-secondary ml-4">Reflex irritability to stimulation</p>
					</div>
					<div>
						<span class="theme-text-primary font-medium">A</span>ctivity
						<p class="theme-text-secondary ml-4">Muscle tone and movement</p>
					</div>
					<div>
						<span class="theme-text-primary font-medium">R</span>espiration
						<p class="theme-text-secondary ml-4">Respiratory effort and cry quality</p>
					</div>
				</div>
			</div>

			<div class="theme-bg-secondary p-6 rounded-lg border theme-border-primary">
				<h3 class="text-lg font-semibold mb-4 theme-accent-primary">Assessment Timing</h3>
				<div class="space-y-3 text-sm">
					<div>
						<span class="theme-text-primary font-medium">1 Minute:</span>
						<p class="theme-text-secondary">Initial assessment of transition to extrauterine life</p>
					</div>
					<div>
						<span class="theme-text-primary font-medium">5 Minutes:</span>
						<p class="theme-text-secondary">Response to resuscitation efforts if needed</p>
					</div>
					<div>
						<span class="theme-text-primary font-medium">Additional:</span>
						<p class="theme-text-secondary">Every 5 minutes until score ≥7 or up to 20 minutes</p>
					</div>
					<div class="bg-yellow-900/20 p-2 rounded border border-yellow-700/50">
						<p class="text-yellow-200 text-xs">
							<strong>Important:</strong> Do not delay resuscitation to calculate APGAR score
						</p>
					</div>
				</div>
			</div>
		</div>

		<div class="grid md:grid-cols-3 gap-6 mt-8">
			<div class="bg-green-900/20 border border-green-700/50 rounded-lg p-4">
				<h4 class="text-green-400 font-medium mb-2">Normal (7-10)</h4>
				<ul class="text-green-200 text-xs space-y-1">
					<li>• Good adaptation</li>
					<li>• Routine care</li>
					<li>• Continue monitoring</li>
					<li>• Support bonding</li>
				</ul>
			</div>

			<div class="bg-yellow-900/20 border border-yellow-700/50 rounded-lg p-4">
				<h4 class="text-yellow-400 font-medium mb-2">Moderate Depression (3-6)</h4>
				<ul class="text-yellow-200 text-xs space-y-1">
					<li>• Stimulation needed</li>
					<li>• Clear airway</li>
					<li>• Consider oxygen</li>
					<li>• Frequent reassessment</li>
				</ul>
			</div>

			<div class="bg-red-900/20 border border-red-700/50 rounded-lg p-4">
				<h4 class="text-red-400 font-medium mb-2">Severe Depression (0-2)</h4>
				<ul class="text-red-200 text-xs space-y-1">
					<li>• Immediate resuscitation</li>
					<li>• Positive pressure ventilation</li>
					<li>• Consider chest compressions</li>
					<li>• Advanced interventions</li>
				</ul>
			</div>
		</div>

		<div class="mt-8 space-y-4">
			<div class="bg-blue-900/20 border border-blue-700/50 rounded-lg p-6">
				<h3 class="text-lg font-semibold mb-3 text-blue-400">Neonatal Resuscitation Priority</h3>
				<div class="text-blue-100 text-sm space-y-2">
					<p>
						<strong>Primary Assessment:</strong> Initial steps of neonatal resuscitation should be based on immediate visual and auditory assessment, not APGAR calculation.
					</p>
					<p>
						<strong>Key Indicators:</strong> Breathing/crying, heart rate, and muscle tone are the most critical immediate factors for resuscitation decisions.
					</p>
					<p>
						<strong>APGAR Role:</strong> Use APGAR to document condition and response to interventions, not to determine need for resuscitation.
					</p>
				</div>
			</div>

			<div class="bg-purple-900/20 border border-purple-700/50 rounded-lg p-6">
				<h3 class="text-lg font-semibold mb-3 text-purple-400">Documentation & Communication</h3>
				<div class="text-purple-100 text-sm space-y-2">
					<p>
						<strong>Complete Documentation:</strong> Record each category score individually (e.g., A1-P2-G1-A1-R2 = 7) along with time of assessment.
					</p>
					<p>
						<strong>Hospital Communication:</strong> Report APGAR scores at 1 and 5 minutes to receiving facility. Include any resuscitation efforts performed.
					</p>
					<p>
						<strong>Trending:</strong> Serial APGAR scores show response to interventions and help guide ongoing care decisions.
					</p>
				</div>
			</div>
		</div>

		<div class="bg-red-900/20 border border-red-700/50 rounded-lg p-6 mt-8">
			<h3 class="text-lg font-semibold mb-3 text-red-400">Critical Reminder</h3>
			<p class="text-red-100 text-sm">
				The APGAR score is a tool for assessment and communication, not for determining the need for resuscitation.
				Begin resuscitation immediately based on the initial assessment of breathing, heart rate, and tone.
				Follow your local neonatal resuscitation protocols and contact medical control as needed.
			</p>
		</div>
	</div>
</Layout>